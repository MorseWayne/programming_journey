<svg xmlns:ev="http://www.w3.org/2001/xml-events" ed:hSpacing="30" ed:vSpacing="30" height="1825" viewBox="0 0 1775 1825" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ed="https://www.edrawsoft.com/xml/2017/SVGExtensions/" id="page300000100" ed:name="线程切换开销" width="1775"><style type="text/css"><![CDATA[
g[ed\:togtopicid],g[ed\:hyperlink],g[ed\:comment],g[ed\:note] {cursor:pointer;}
g[id] {-moz-user-select: none;-ms-user-select: none;user-select: none;}
svg text::selection,svg tspan::selection{background-color: #4285f4;color: #ffffff;fill: #ffffff;}
.st6 {fill:#ebebeb;font-family:微软雅黑;font-size:10pt}
.st5 {fill:#ebebeb;font-family:微软雅黑;font-size:14pt;font-weight:bold}
.st4 {fill:#ffffff;font-family:微软雅黑;font-size:18pt;font-weight:bold}
]]></style><defs/><rect fill="#191919" x="0" height="1825" y="0" width="1775"/><path fill="none" ed:tosuperid="102" stroke-linecap="round" transform="matrix(1,0,0,1,203.12,734.84)" stroke-width="3" ed:parentid="101" id="103" stroke="#ff7869" d="M-70.6,209.7C-56.9,25.3,-13.2,-241.6,81.4,-241.6" stroke-linejoin="round"/><path fill="none" ed:tosuperid="104" stroke-linecap="round" transform="matrix(1,0,0,1,451.25,421.92)" stroke-width="3" ed:parentid="102" id="105" stroke="#ff7869" d="M-17.5,71.3L-6.5,71.3C-6.5,14.3,3.1,-71.3,17.5,-71.3" stroke-linejoin="round"/><path fill="none" ed:tosuperid="106" stroke-linecap="round" transform="matrix(1,0,0,1,698.55,239.65)" stroke-width="3" ed:parentid="104" id="107" stroke="#ff7869" d="M-17.5,110.9L-6.5,110.9C-6.5,22.2,3.1,-110.9,17.5,-110.9" stroke-linejoin="round"/><path fill="none" ed:tosuperid="108" stroke-linecap="round" transform="matrix(1,0,0,1,837.05,89.07)" stroke-width="3" ed:parentid="106" id="109" stroke="#ff7869" d="M-17.5,39.6L-6.5,39.6C-6.5,7.9,3.1,-39.6,17.5,-39.6" stroke-linejoin="round"/><path fill="none" ed:tosuperid="110" stroke-linecap="round" transform="matrix(1,0,0,1,921.15,41.52)" stroke-width="3" ed:parentid="108" id="111" stroke="#ff7869" d="M-17.5,7.9L-6.5,7.9C-6.5,1.6,3.1,-7.9,17.5,-7.9" stroke-linejoin="round"/><path fill="none" ed:tosuperid="112" stroke-linecap="round" transform="matrix(1,0,0,1,921.15,57.37)" stroke-width="3" ed:parentid="108" id="113" stroke="#ff7869" d="M-17.5,-7.9L-6.5,-7.9C-6.5,-1.6,3.1,7.9,17.5,7.9" stroke-linejoin="round"/><path fill="none" ed:tosuperid="114" stroke-linecap="round" transform="matrix(1,0,0,1,837.05,168.32)" stroke-width="3" ed:parentid="106" id="115" stroke="#ff7869" d="M-17.5,-39.6L-6.5,-39.6C-6.5,-7.9,3.1,39.6,17.5,39.6" stroke-linejoin="round"/><path fill="none" ed:tosuperid="116" stroke-linecap="round" transform="matrix(1,0,0,1,921.15,176.25)" stroke-width="3" ed:parentid="114" id="117" stroke="#ff7869" d="M-17.5,31.7L-6.5,31.7C-6.5,6.3,3.1,-31.7,17.5,-31.7" stroke-linejoin="round"/><path fill="none" ed:tosuperid="118" stroke-linecap="round" transform="matrix(1,0,0,1,1059.65,128.7)" stroke-width="3" ed:parentid="116" id="119" stroke="#ff7869" d="M-17.5,15.8L-6.5,15.8C-6.5,3.2,3.1,-15.8,17.5,-15.8" stroke-linejoin="round"/><path fill="none" ed:tosuperid="120" stroke-linecap="round" transform="matrix(1,0,0,1,1171.75,104.92)" stroke-width="3" ed:parentid="118" id="121" stroke="#ff7869" d="M-17.5,7.9L-6.5,7.9C-6.5,1.6,3.1,-7.9,17.5,-7.9" stroke-linejoin="round"/><path fill="none" ed:tosuperid="122" stroke-linecap="round" transform="matrix(1,0,0,1,1171.75,120.77)" stroke-width="3" ed:parentid="118" id="123" stroke="#ff7869" d="M-17.5,-7.9L-6.5,-7.9C-6.5,-1.6,3.1,7.9,17.5,7.9" stroke-linejoin="round"/><path fill="none" ed:tosuperid="124" stroke-linecap="round" transform="matrix(1,0,0,1,1059.65,160.4)" stroke-width="3" ed:parentid="116" id="125" stroke="#ff7869" d="M-17.5,-15.8L-6.5,-15.8C-6.5,-3.2,3.1,15.8,17.5,15.8" stroke-linejoin="round"/><path fill="none" ed:tosuperid="126" stroke-linecap="round" transform="matrix(1,0,0,1,1170.95,168.32)" stroke-width="3" ed:parentid="124" id="127" stroke="#ff7869" d="M-17.5,7.9L-6.5,7.9C-6.5,1.6,3.1,-7.9,17.5,-7.9" stroke-linejoin="round"/><path fill="none" ed:tosuperid="128" stroke-linecap="round" transform="matrix(1,0,0,1,1170.95,184.17)" stroke-width="3" ed:parentid="124" id="129" stroke="#ff7869" d="M-17.5,-7.9L-6.5,-7.9C-6.5,-1.6,3.1,7.9,17.5,7.9" stroke-linejoin="round"/><path fill="none" ed:tosuperid="130" stroke-linecap="round" transform="matrix(1,0,0,1,921.15,239.65)" stroke-width="3" ed:parentid="114" id="131" stroke="#ff7869" d="M-17.5,-31.7L-6.5,-31.7C-6.5,-6.3,3.1,31.7,17.5,31.7" stroke-linejoin="round"/><path fill="none" ed:tosuperid="132" stroke-linecap="round" transform="matrix(1,0,0,1,1073.25,255.5)" stroke-width="3" ed:parentid="130" id="133" stroke="#ff7869" d="M-17.5,15.8L-6.5,15.8C-6.5,3.2,3.1,-15.8,17.5,-15.8" stroke-linejoin="round"/><path fill="none" ed:tosuperid="134" stroke-linecap="round" transform="matrix(1,0,0,1,1225.35,231.72)" stroke-width="3" ed:parentid="132" id="135" stroke="#ff7869" d="M-17.5,7.9L-6.5,7.9C-6.5,1.6,3.1,-7.9,17.5,-7.9" stroke-linejoin="round"/><path fill="none" ed:tosuperid="136" stroke-linecap="round" transform="matrix(1,0,0,1,1225.35,247.57)" stroke-width="3" ed:parentid="132" id="137" stroke="#ff7869" d="M-17.5,-7.9L-6.5,-7.9C-6.5,-1.6,3.1,7.9,17.5,7.9" stroke-linejoin="round"/><path fill="none" ed:tosuperid="138" stroke-linecap="round" transform="matrix(1,0,0,1,1073.25,287.2)" stroke-width="3" ed:parentid="130" id="139" stroke="#ff7869" d="M-17.5,-15.8L-6.5,-15.8C-6.5,-3.2,3.1,15.8,17.5,15.8" stroke-linejoin="round"/><path fill="none" ed:tosuperid="140" stroke-linecap="round" transform="matrix(1,0,0,1,1225.35,295.12)" stroke-width="3" ed:parentid="138" id="141" stroke="#ff7869" d="M-17.5,7.9L-6.5,7.9C-6.5,1.6,3.1,-7.9,17.5,-7.9" stroke-linejoin="round"/><path fill="none" ed:tosuperid="142" stroke-linecap="round" transform="matrix(1,0,0,1,1225.35,310.97)" stroke-width="3" ed:parentid="138" id="143" stroke="#ff7869" d="M-17.5,-7.9L-6.5,-7.9C-6.5,-1.6,3.1,7.9,17.5,7.9" stroke-linejoin="round"/><path fill="none" ed:tosuperid="144" stroke-linecap="round" transform="matrix(1,0,0,1,698.55,374.37)" stroke-width="3" ed:parentid="104" id="145" stroke="#ff7869" d="M-17.5,-23.8L-6.5,-23.8C-6.5,-4.8,3.1,23.8,17.5,23.8" stroke-linejoin="round"/><path fill="none" ed:tosuperid="146" stroke-linecap="round" transform="matrix(1,0,0,1,837.05,382.3)" stroke-width="3" ed:parentid="144" id="147" stroke="#ff7869" d="M-17.5,15.8L-6.5,15.8C-6.5,3.2,3.1,-15.8,17.5,-15.8" stroke-linejoin="round"/><path fill="none" ed:tosuperid="148" stroke-linecap="round" transform="matrix(1,0,0,1,921.15,358.52)" stroke-width="3" ed:parentid="146" id="149" stroke="#ff7869" d="M-17.5,7.9L-6.5,7.9C-6.5,1.6,3.1,-7.9,17.5,-7.9" stroke-linejoin="round"/><path fill="none" ed:tosuperid="150" stroke-linecap="round" transform="matrix(1,0,0,1,921.15,374.37)" stroke-width="3" ed:parentid="146" id="151" stroke="#ff7869" d="M-17.5,-7.9L-6.5,-7.9C-6.5,-1.6,3.1,7.9,17.5,7.9" stroke-linejoin="round"/><path fill="none" ed:tosuperid="152" stroke-linecap="round" transform="matrix(1,0,0,1,837.05,414)" stroke-width="3" ed:parentid="144" id="153" stroke="#ff7869" d="M-17.5,-15.8L-6.5,-15.8C-6.5,-3.2,3.1,15.8,17.5,15.8" stroke-linejoin="round"/><path fill="none" ed:tosuperid="154" stroke-linecap="round" transform="matrix(1,0,0,1,921.15,421.92)" stroke-width="3" ed:parentid="152" id="155" stroke="#ff7869" d="M-17.5,7.9L-6.5,7.9C-6.5,1.6,3.1,-7.9,17.5,-7.9" stroke-linejoin="round"/><path fill="none" ed:tosuperid="156" stroke-linecap="round" transform="matrix(1,0,0,1,921.15,437.77)" stroke-width="3" ed:parentid="152" id="157" stroke="#ff7869" d="M-17.5,-7.9L-6.5,-7.9C-6.5,-1.6,3.1,7.9,17.5,7.9" stroke-linejoin="round"/><path fill="none" ed:tosuperid="158" stroke-linecap="round" transform="matrix(1,0,0,1,698.55,421.92)" stroke-width="3" ed:parentid="104" id="159" stroke="#ff7869" d="M-17.5,-71.3L-6.5,-71.3C-6.5,-14.3,3.1,71.3,17.5,71.3" stroke-linejoin="round"/><path fill="none" ed:tosuperid="160" stroke-linecap="round" transform="matrix(1,0,0,1,809.85,485.32)" stroke-width="3" ed:parentid="158" id="161" stroke="#ff7869" d="M-17.5,7.9L-6.5,7.9C-6.5,1.6,3.1,-7.9,17.5,-7.9" stroke-linejoin="round"/><path fill="none" ed:tosuperid="162" stroke-linecap="round" transform="matrix(1,0,0,1,921.15,477.4)" stroke-width="3" ed:parentid="160" id="163" stroke="#ff7869" d="M-17.5,0L-6.5,0C-6.5,0,3.1,0,17.5,0" stroke-linejoin="round"/><path fill="none" ed:tosuperid="164" stroke-linecap="round" transform="matrix(1,0,0,1,809.85,501.17)" stroke-width="3" ed:parentid="158" id="165" stroke="#ff7869" d="M-17.5,-7.9L-6.5,-7.9C-6.5,-1.6,3.1,7.9,17.5,7.9" stroke-linejoin="round"/><path fill="none" ed:tosuperid="166" stroke-linecap="round" transform="matrix(1,0,0,1,921.15,509.1)" stroke-width="3" ed:parentid="164" id="167" stroke="#ff7869" d="M-17.5,0L-6.5,0C-6.5,0,3.1,0,17.5,0" stroke-linejoin="round"/><path fill="none" ed:tosuperid="168" stroke-linecap="round" transform="matrix(1,0,0,1,698.55,461.55)" stroke-width="3" ed:parentid="104" id="169" stroke="#ff7869" d="M-17.5,-110.9L-6.5,-110.9C-6.5,-22.2,3.1,110.9,17.5,110.9" stroke-linejoin="round"/><path fill="none" ed:tosuperid="170" stroke-linecap="round" transform="matrix(1,0,0,1,809.85,556.65)" stroke-width="3" ed:parentid="168" id="171" stroke="#ff7869" d="M-17.5,15.9L-6.5,15.9C-6.5,3.2,3.1,-15.8,17.5,-15.8" stroke-linejoin="round"/><path fill="none" ed:tosuperid="172" stroke-linecap="round" transform="matrix(1,0,0,1,975.55,540.8)" stroke-width="3" ed:parentid="170" id="173" stroke="#ff7869" d="M-17.5,0L-6.5,0C-6.5,0,3.1,0,17.5,0" stroke-linejoin="round"/><path fill="none" ed:tosuperid="174" stroke-linecap="round" transform="matrix(1,0,0,1,809.85,572.5)" stroke-width="3" ed:parentid="168" id="175" stroke="#ff7869" d="M-17.5,0L-6.5,0C-6.5,0,3.1,0,17.5,0" stroke-linejoin="round"/><path fill="none" ed:tosuperid="176" stroke-linecap="round" transform="matrix(1,0,0,1,948.35,572.5)" stroke-width="3" ed:parentid="174" id="177" stroke="#ff7869" d="M-17.5,0L-6.5,0C-6.5,0,3.1,0,17.5,0" stroke-linejoin="round"/><path fill="none" ed:tosuperid="178" stroke-linecap="round" transform="matrix(1,0,0,1,809.85,588.35)" stroke-width="3" ed:parentid="168" id="179" stroke="#ff7869" d="M-17.5,-15.9L-6.5,-15.9C-6.5,-3.2,3.1,15.8,17.5,15.8" stroke-linejoin="round"/><path fill="none" ed:tosuperid="180" stroke-linecap="round" transform="matrix(1,0,0,1,962.75,604.2)" stroke-width="3" ed:parentid="178" id="181" stroke="#ff7869" d="M-17.5,0L-6.5,0C-6.5,0,3.1,0,17.5,0" stroke-linejoin="round"/><path fill="none" ed:tosuperid="182" stroke-linecap="round" transform="matrix(1,0,0,1,451.25,564.57)" stroke-width="3" ed:parentid="102" id="183" stroke="#ff7869" d="M-17.5,-71.3L-6.5,-71.3C-6.5,-14.3,3.1,71.3,17.5,71.3" stroke-linejoin="round"/><path fill="none" ed:tosuperid="184" stroke-linecap="round" transform="matrix(1,0,0,1,203.12,974.97)" stroke-width="3" ed:parentid="101" id="185" stroke="#488df5" d="M-9.6,1.5C-3.2,0.4,22.3,-1.5,81.4,-1.5" stroke-linejoin="round"/><path fill="none" ed:tosuperid="186" stroke-linecap="round" transform="matrix(1,0,0,1,414.45,856.55)" stroke-width="3" ed:parentid="184" id="187" stroke="#488df5" d="M-17.5,116.9L-6.5,116.9C-6.5,23.4,3.1,-116.9,17.5,-116.9" stroke-linejoin="round"/><path fill="none" ed:tosuperid="188" stroke-linecap="round" transform="matrix(1,0,0,1,595.35,721.45)" stroke-width="3" ed:parentid="186" id="189" stroke="#488df5" d="M-17.5,18.1L-6.5,18.1C-6.5,3.6,3.1,-18.2,17.5,-18.2" stroke-linejoin="round"/><path fill="none" ed:tosuperid="190" stroke-linecap="round" transform="matrix(1,0,0,1,595.35,741.9)" stroke-width="3" ed:parentid="186" id="191" stroke="#488df5" d="M-17.5,-2.3L-6.5,-2.3C-6.5,-0.5,3.1,2.3,17.5,2.3" stroke-linejoin="round"/><path fill="none" ed:tosuperid="192" stroke-linecap="round" transform="matrix(1,0,0,1,595.35,757.75)" stroke-width="3" ed:parentid="186" id="193" stroke="#488df5" d="M-17.5,-18.1L-6.5,-18.1C-6.5,-3.6,3.1,18.2,17.5,18.2" stroke-linejoin="round"/><path fill="none" ed:tosuperid="194" stroke-linecap="round" transform="matrix(1,0,0,1,414.45,913.3)" stroke-width="3" ed:parentid="184" id="195" stroke="#488df5" d="M-17.5,60.2L-6.5,60.2C-6.5,12,3.1,-60.2,17.5,-60.2" stroke-linejoin="round"/><path fill="none" ed:tosuperid="196" stroke-linecap="round" transform="matrix(1,0,0,1,568.15,830.35)" stroke-width="3" ed:parentid="194" id="197" stroke="#488df5" d="M-17.5,22.8L-6.5,22.8C-6.5,4.5,3.1,-22.8,17.5,-22.8" stroke-linejoin="round"/><path fill="none" ed:tosuperid="198" stroke-linecap="round" transform="matrix(1,0,0,1,568.15,850.8)" stroke-width="3" ed:parentid="194" id="199" stroke="#488df5" d="M-17.5,2.3L-6.5,2.3C-6.5,0.5,3.1,-2.3,17.5,-2.3" stroke-linejoin="round"/><path fill="none" ed:tosuperid="200" stroke-linecap="round" transform="matrix(1,0,0,1,568.15,875.85)" stroke-width="3" ed:parentid="194" id="201" stroke="#488df5" d="M-17.5,-22.8L-6.5,-22.8C-6.5,-4.6,3.1,22.7,17.5,22.7" stroke-linejoin="round"/><path fill="none" ed:tosuperid="202" stroke-linecap="round" transform="matrix(1,0,0,1,414.45,983.85)" stroke-width="3" ed:parentid="184" id="203" stroke="#488df5" d="M-17.5,-10.3L-6.5,-10.3C-6.5,-2.1,3.1,10.4,17.5,10.4" stroke-linejoin="round"/><path fill="none" ed:tosuperid="204" stroke-linecap="round" transform="matrix(1,0,0,1,537.75,971.45)" stroke-width="3" ed:parentid="202" id="205" stroke="#488df5" d="M-17.5,22.8L-6.5,22.8C-6.5,4.5,3.1,-22.8,17.5,-22.8" stroke-linejoin="round"/><path fill="none" ed:tosuperid="206" stroke-linecap="round" transform="matrix(1,0,0,1,537.75,996.5)" stroke-width="3" ed:parentid="202" id="207" stroke="#488df5" d="M-17.5,-2.3L-6.5,-2.3C-6.5,-0.5,3.1,2.3,17.5,2.3" stroke-linejoin="round"/><path fill="none" ed:tosuperid="208" stroke-linecap="round" transform="matrix(1,0,0,1,537.75,1016.95)" stroke-width="3" ed:parentid="202" id="209" stroke="#488df5" d="M-17.5,-22.7L-6.5,-22.7C-6.5,-4.5,3.1,22.8,17.5,22.8" stroke-linejoin="round"/><path fill="none" ed:tosuperid="210" stroke-linecap="round" transform="matrix(1,0,0,1,414.45,1038.3)" stroke-width="3" ed:parentid="184" id="211" stroke="#488df5" d="M-17.5,-64.8L-6.5,-64.8C-6.5,-13,3.1,64.8,17.5,64.8" stroke-linejoin="round"/><path fill="none" ed:tosuperid="212" stroke-linecap="round" transform="matrix(1,0,0,1,554.55,1087.25)" stroke-width="3" ed:parentid="210" id="213" stroke="#488df5" d="M-17.5,15.9L-6.5,15.9C-6.5,3.2,3.1,-15.8,17.5,-15.8" stroke-linejoin="round"/><path fill="none" ed:tosuperid="214" stroke-linecap="round" transform="matrix(1,0,0,1,554.55,1103.1)" stroke-width="3" ed:parentid="210" id="215" stroke="#488df5" d="M-17.5,0L-6.5,0C-6.5,0,3.1,0,17.5,0" stroke-linejoin="round"/><path fill="none" ed:tosuperid="216" stroke-linecap="round" transform="matrix(1,0,0,1,554.55,1118.95)" stroke-width="3" ed:parentid="210" id="217" stroke="#488df5" d="M-17.5,-15.8L-6.5,-15.8C-6.5,-3.2,3.1,15.8,17.5,15.8" stroke-linejoin="round"/><path fill="none" ed:tosuperid="218" stroke-linecap="round" transform="matrix(1,0,0,1,414.45,1090.45)" stroke-width="3" ed:parentid="184" id="219" stroke="#488df5" d="M-17.5,-116.9L-6.5,-116.9C-6.5,-23.4,3.1,116.9,17.5,116.9" stroke-linejoin="round"/><path fill="none" ed:tosuperid="220" stroke-linecap="round" transform="matrix(1,0,0,1,568.15,1186.95)" stroke-width="3" ed:parentid="218" id="221" stroke="#488df5" d="M-17.5,20.5L-6.5,20.5C-6.5,4.1,3.1,-20.5,17.5,-20.5" stroke-linejoin="round"/><path fill="none" ed:tosuperid="222" stroke-linecap="round" transform="matrix(1,0,0,1,568.15,1207.4)" stroke-width="3" ed:parentid="218" id="223" stroke="#488df5" d="M-17.5,0L-6.5,0C-6.5,0,3.1,0,17.5,0" stroke-linejoin="round"/><path fill="none" ed:tosuperid="224" stroke-linecap="round" transform="matrix(1,0,0,1,568.15,1227.85)" stroke-width="3" ed:parentid="218" id="225" stroke="#488df5" d="M-17.5,-20.4L-6.5,-20.4C-6.5,-4.1,3.1,20.4,17.5,20.4" stroke-linejoin="round"/><path fill="none" ed:tosuperid="226" stroke-linecap="round" transform="matrix(1,0,0,1,203.12,1218.03)" stroke-width="3" ed:parentid="101" id="227" stroke="#63dcd2" d="M-70.6,-209.7C-56.9,-25.3,-13.2,241.6,81.4,241.6" stroke-linejoin="round"/><path fill="none" ed:tosuperid="228" stroke-linecap="round" transform="matrix(1,0,0,1,506.45,1383.06)" stroke-width="3" ed:parentid="226" id="229" stroke="#63dcd2" d="M-17.5,76.6L-6.5,76.6C-6.5,15.3,3.1,-76.6,17.5,-76.6" stroke-linejoin="round"/><path fill="none" ed:tosuperid="230" stroke-linecap="round" transform="matrix(1,0,0,1,506.45,1403.51)" stroke-width="3" ed:parentid="226" id="231" stroke="#63dcd2" d="M-17.5,56.1L-6.5,56.1C-6.5,11.2,3.1,-56.1,17.5,-56.1" stroke-linejoin="round"/><path fill="none" ed:tosuperid="232" stroke-linecap="round" transform="matrix(1,0,0,1,506.45,1428.56)" stroke-width="3" ed:parentid="226" id="233" stroke="#63dcd2" d="M-17.5,31.1L-6.5,31.1C-6.5,6.2,3.1,-31.1,17.5,-31.1" stroke-linejoin="round"/><path fill="none" ed:tosuperid="234" stroke-linecap="round" transform="matrix(1,0,0,1,506.45,1536.19)" stroke-width="3" ed:parentid="226" id="235" stroke="#63dcd2" d="M-17.5,-76.6L-6.5,-76.6C-6.5,-15.3,3.1,76.6,17.5,76.6" stroke-linejoin="round"/><path fill="none" ed:tosuperid="236" stroke-linecap="round" transform="matrix(1,0,0,1,971.35,1549.35)" stroke-width="3" ed:parentid="234" id="237" stroke="#63dcd2" d="M-17.5,63.4L-6.5,63.4C-6.5,12.7,3.1,-63.4,17.5,-63.4" stroke-linejoin="round"/><path fill="none" ed:tosuperid="238" stroke-linecap="round" transform="matrix(1,0,0,1,1109.85,1470.1)" stroke-width="3" ed:parentid="236" id="239" stroke="#63dcd2" d="M-17.5,15.8L-6.5,15.8C-6.5,3.2,3.1,-15.8,17.5,-15.8" stroke-linejoin="round"/><path fill="none" ed:tosuperid="240" stroke-linecap="round" transform="matrix(1,0,0,1,1221.15,1446.32)" stroke-width="3" ed:parentid="238" id="241" stroke="#63dcd2" d="M-17.5,7.9L-6.5,7.9C-6.5,1.6,3.1,-7.9,17.5,-7.9" stroke-linejoin="round"/><path fill="none" ed:tosuperid="242" stroke-linecap="round" transform="matrix(1,0,0,1,1221.15,1462.17)" stroke-width="3" ed:parentid="238" id="243" stroke="#63dcd2" d="M-17.5,-7.9L-6.5,-7.9C-6.5,-1.6,3.1,7.9,17.5,7.9" stroke-linejoin="round"/><path fill="none" ed:tosuperid="244" stroke-linecap="round" transform="matrix(1,0,0,1,1109.85,1501.8)" stroke-width="3" ed:parentid="236" id="245" stroke="#63dcd2" d="M-17.5,-15.8L-6.5,-15.8C-6.5,-3.2,3.1,15.8,17.5,15.8" stroke-linejoin="round"/><path fill="none" ed:tosuperid="246" stroke-linecap="round" transform="matrix(1,0,0,1,1248.35,1509.72)" stroke-width="3" ed:parentid="244" id="247" stroke="#63dcd2" d="M-17.5,7.9L-6.5,7.9C-6.5,1.6,3.1,-7.9,17.5,-7.9" stroke-linejoin="round"/><path fill="none" ed:tosuperid="248" stroke-linecap="round" transform="matrix(1,0,0,1,1248.35,1525.57)" stroke-width="3" ed:parentid="244" id="249" stroke="#63dcd2" d="M-17.5,-7.9L-6.5,-7.9C-6.5,-1.6,3.1,7.9,17.5,7.9" stroke-linejoin="round"/><path fill="none" ed:tosuperid="250" stroke-linecap="round" transform="matrix(1,0,0,1,971.35,1612.75)" stroke-width="3" ed:parentid="234" id="251" stroke="#63dcd2" d="M-17.5,0L-6.5,0C-6.5,0,3.1,0,17.5,0" stroke-linejoin="round"/><path fill="none" ed:tosuperid="252" stroke-linecap="round" transform="matrix(1,0,0,1,1137.05,1596.9)" stroke-width="3" ed:parentid="250" id="253" stroke="#63dcd2" d="M-17.5,15.8L-6.5,15.8C-6.5,3.2,3.1,-15.8,17.5,-15.8" stroke-linejoin="round"/><path fill="none" ed:tosuperid="254" stroke-linecap="round" transform="matrix(1,0,0,1,1289.15,1573.12)" stroke-width="3" ed:parentid="252" id="255" stroke="#63dcd2" d="M-17.5,7.9L-6.5,7.9C-6.5,1.6,3.1,-7.9,17.5,-7.9" stroke-linejoin="round"/><path fill="none" ed:tosuperid="256" stroke-linecap="round" transform="matrix(1,0,0,1,1289.15,1588.97)" stroke-width="3" ed:parentid="252" id="257" stroke="#63dcd2" d="M-17.5,-7.9L-6.5,-7.9C-6.5,-1.6,3.1,7.9,17.5,7.9" stroke-linejoin="round"/><path fill="none" ed:tosuperid="258" stroke-linecap="round" transform="matrix(1,0,0,1,1137.05,1628.6)" stroke-width="3" ed:parentid="250" id="259" stroke="#63dcd2" d="M-17.5,-15.8L-6.5,-15.8C-6.5,-3.2,3.1,15.8,17.5,15.8" stroke-linejoin="round"/><path fill="none" ed:tosuperid="260" stroke-linecap="round" transform="matrix(1,0,0,1,1275.55,1636.52)" stroke-width="3" ed:parentid="258" id="261" stroke="#63dcd2" d="M-17.5,7.9L-6.5,7.9C-6.5,1.6,3.1,-7.9,17.5,-7.9" stroke-linejoin="round"/><path fill="none" ed:tosuperid="262" stroke-linecap="round" transform="matrix(1,0,0,1,1275.55,1652.37)" stroke-width="3" ed:parentid="258" id="263" stroke="#63dcd2" d="M-17.5,-7.9L-6.5,-7.9C-6.5,-1.6,3.1,7.9,17.5,7.9" stroke-linejoin="round"/><path fill="none" ed:tosuperid="264" stroke-linecap="round" transform="matrix(1,0,0,1,971.35,1676.15)" stroke-width="3" ed:parentid="234" id="265" stroke="#63dcd2" d="M-17.5,-63.4L-6.5,-63.4C-6.5,-12.7,3.1,63.4,17.5,63.4" stroke-linejoin="round"/><path fill="none" ed:tosuperid="266" stroke-linecap="round" transform="matrix(1,0,0,1,1150.65,1723.7)" stroke-width="3" ed:parentid="264" id="267" stroke="#63dcd2" d="M-17.5,15.8L-6.5,15.8C-6.5,3.2,3.1,-15.8,17.5,-15.8" stroke-linejoin="round"/><path fill="none" ed:tosuperid="268" stroke-linecap="round" transform="matrix(1,0,0,1,1261.95,1699.92)" stroke-width="3" ed:parentid="266" id="269" stroke="#63dcd2" d="M-17.5,7.9L-6.5,7.9C-6.5,1.6,3.1,-7.9,17.5,-7.9" stroke-linejoin="round"/><path fill="none" ed:tosuperid="270" stroke-linecap="round" transform="matrix(1,0,0,1,1261.95,1715.77)" stroke-width="3" ed:parentid="266" id="271" stroke="#63dcd2" d="M-17.5,-7.9L-6.5,-7.9C-6.5,-1.6,3.1,7.9,17.5,7.9" stroke-linejoin="round"/><path fill="none" ed:tosuperid="272" stroke-linecap="round" transform="matrix(1,0,0,1,1150.65,1755.4)" stroke-width="3" ed:parentid="264" id="273" stroke="#63dcd2" d="M-17.5,-15.8L-6.5,-15.8C-6.5,-3.2,3.1,15.8,17.5,15.8" stroke-linejoin="round"/><path fill="none" ed:tosuperid="274" stroke-linecap="round" transform="matrix(1,0,0,1,1289.15,1763.32)" stroke-width="3" ed:parentid="272" id="275" stroke="#63dcd2" d="M-17.5,7.9L-6.5,7.9C-6.5,1.6,3.1,-7.9,17.5,-7.9" stroke-linejoin="round"/><path fill="none" ed:tosuperid="276" stroke-linecap="round" transform="matrix(1,0,0,1,1289.15,1779.17)" stroke-width="3" ed:parentid="272" id="277" stroke="#63dcd2" d="M-17.5,-7.9L-6.5,-7.9C-6.5,-1.6,3.1,7.9,17.5,7.9" stroke-linejoin="round"/><g ed:height="63.799999999999997" transform="matrix(1,0,0,1,22,944.54)" ed:topictype="mainidea" id="101" ed:width="199.49600000000004" ed:layout="rightmap"><path fill="#3b71c8" stroke-linecap="round" stroke-width="2" stroke="#3b71c8" d="M31.9,0L167.6,0C185.2,0,199.5,14.3,199.5,31.9C199.5,49.5,185.2,63.8,167.6,63.8L31.9,63.8C14.3,63.8,0,49.5,0,31.9C0,14.3,14.3,0,31.9,0z" stroke-linejoin="round"/><text class="st4"><tspan x="27" textLength="144" y="42.6" style="white-space:pre">线程切换开销</tspan></text></g><g ed:height="41.600000000000001" transform="matrix(1,0,0,1,284.5,472.45)" ed:parentid="101" id="102" ed:width="149.19999999999999"><text class="st5"><tspan x="20" textLength="114" y="30.5" style="white-space:pre">线程切换定义</tspan></text></g><g ed:height="25.200000000000003" transform="matrix(1,0,0,1,468.8,338)" ed:parentid="102" id="104" ed:width="212.19999999999999"><text class="st6"><tspan x="11" textLength="182" y="19.9" style="white-space:pre">由操作系统保存和加载线程状态</tspan></text></g><g ed:height="25.200000000000003" transform="matrix(1,0,0,1,716.1,116.1)" ed:parentid="104" id="106" ed:width="103.40000000000001"><text class="st6"><tspan x="11" textLength="78" y="19.9" style="white-space:pre">线程状态保存</tspan></text></g><g ed:height="25.200000000000003" transform="matrix(1,0,0,1,854.6,36.85)" ed:parentid="106" id="108" ed:width="49"><text class="st6"><tspan x="11" textLength="26" y="19.9" style="white-space:pre">目的</tspan></text></g><g ed:height="25.200000000000003" transform="matrix(1,0,0,1,938.7,21)" ed:parentid="108" id="110" ed:width="130.59999999999999"><text class="st6"><tspan x="11" textLength="104" y="19.9" style="white-space:pre">保持当前执行进度</tspan></text></g><g ed:height="25.200000000000003" transform="matrix(1,0,0,1,938.7,52.7)" ed:parentid="108" id="112" ed:width="103.40000000000001"><text class="st6"><tspan x="11" textLength="78" y="19.9" style="white-space:pre">保护线程数据</tspan></text></g><g ed:height="25.200000000000003" transform="matrix(1,0,0,1,854.6,195.35)" ed:parentid="106" id="114" ed:width="49"><text class="st6"><tspan x="11" textLength="26" y="19.9" style="white-space:pre">过程</tspan></text></g><g ed:height="25.200000000000003" transform="matrix(1,0,0,1,938.7,131.95)" ed:parentid="114" id="116" ed:width="103.40000000000001"><text class="st6"><tspan x="11" textLength="78" y="19.9" style="white-space:pre">数据结构保存</tspan></text></g><g ed:height="25.200000000000003" transform="matrix(1,0,0,1,1077.2,100.25)" ed:parentid="116" id="118" ed:width="77"><text class="st6"><tspan x="11" textLength="52" y="19.9" style="white-space:pre">数据收集</tspan></text></g><g ed:height="25.200000000000003" transform="matrix(1,0,0,1,1189.3,84.4)" ed:parentid="118" id="120" ed:width="144.19999999999999"><text class="st6"><tspan x="11" textLength="117" y="19.9" style="white-space:pre">收集当前执行上下文</tspan></text></g><g ed:height="25.200000000000003" transform="matrix(1,0,0,1,1189.3,116.1)" ed:parentid="118" id="122" ed:width="130.59999999999999"><text class="st6"><tspan x="11" textLength="104" y="19.9" style="white-space:pre">整理保存数据结构</tspan></text></g><g ed:height="25.200000000000003" transform="matrix(1,0,0,1,1077.2,163.65)" ed:parentid="116" id="124" ed:width="76.200000000000003"><text class="st6"><tspan x="11" textLength="52" y="19.9" style="white-space:pre">数据更新</tspan></text></g><g ed:height="25.200000000000003" transform="matrix(1,0,0,1,1188.5,147.8)" ed:parentid="124" id="126" ed:width="142.59999999999999"><text class="st6"><tspan x="11" textLength="115" y="19.9" style="white-space:pre">更新TCB和堆栈信息</tspan></text></g><g ed:height="25.200000000000003" transform="matrix(1,0,0,1,1188.5,179.5)" ed:parentid="124" id="128" ed:width="117"><text class="st6"><tspan x="11" textLength="91" y="19.9" style="white-space:pre">确保数据一致性</tspan></text></g><g ed:height="25.200000000000003" transform="matrix(1,0,0,1,938.7,258.75)" ed:parentid="114" id="130" ed:width="117"><text class="st6"><tspan x="11" textLength="91" y="19.9" style="white-space:pre">寄存器状态转移</tspan></text></g><g ed:height="25.200000000000003" transform="matrix(1,0,0,1,1090.8,227.05)" ed:parentid="130" id="132" ed:width="117"><text class="st6"><tspan x="11" textLength="91" y="19.9" style="white-space:pre">保存寄存器状态</tspan></text></g><g ed:height="25.200000000000003" transform="matrix(1,0,0,1,1242.9,211.2)" ed:parentid="132" id="134" ed:width="103.40000000000001"><text class="st6"><tspan x="11" textLength="78" y="19.9" style="white-space:pre">读取寄存器值</tspan></text></g><g ed:height="25.200000000000003" transform="matrix(1,0,0,1,1242.9,242.9)" ed:parentid="132" id="136" ed:width="88.200000000000003"><text class="st6"><tspan x="11" textLength="63" y="19.9" style="white-space:pre">存储到TCB</tspan></text></g><g ed:height="25.200000000000003" transform="matrix(1,0,0,1,1090.8,290.45)" ed:parentid="130" id="138" ed:width="117"><text class="st6"><tspan x="11" textLength="91" y="19.9" style="white-space:pre">加载寄存器状态</tspan></text></g><g ed:height="25.200000000000003" transform="matrix(1,0,0,1,1242.9,274.6)" ed:parentid="138" id="140" ed:width="142.59999999999999"><text class="st6"><tspan x="11" textLength="115" y="19.9" style="white-space:pre">从TCB读取寄存器值</tspan></text></g><g ed:height="25.200000000000003" transform="matrix(1,0,0,1,1242.9,306.3)" ed:parentid="138" id="142" ed:width="130.59999999999999"><text class="st6"><tspan x="11" textLength="105" y="19.9" style="white-space:pre">恢复到CPU寄存器</tspan></text></g><g ed:height="25.200000000000003" transform="matrix(1,0,0,1,716.1,385.55)" ed:parentid="104" id="144" ed:width="103.40000000000001"><text class="st6"><tspan x="11" textLength="78" y="19.9" style="white-space:pre">线程状态加载</tspan></text></g><g ed:height="25.200000000000003" transform="matrix(1,0,0,1,854.6,353.85)" ed:parentid="144" id="146" ed:width="49"><text class="st6"><tspan x="11" textLength="26" y="19.9" style="white-space:pre">目的</tspan></text></g><g ed:height="25.200000000000003" transform="matrix(1,0,0,1,938.7,338)" ed:parentid="146" id="148" ed:width="144.19999999999999"><text class="st6"><tspan x="11" textLength="117" y="19.9" style="white-space:pre">恢复之前执行的线程</tspan></text></g><g ed:height="25.200000000000003" transform="matrix(1,0,0,1,938.7,369.7)" ed:parentid="146" id="150" ed:width="130.59999999999999"><text class="st6"><tspan x="11" textLength="104" y="19.9" style="white-space:pre">继续未完成的任务</tspan></text></g><g ed:height="25.200000000000003" transform="matrix(1,0,0,1,854.6,417.25)" ed:parentid="144" id="152" ed:width="49"><text class="st6"><tspan x="11" textLength="26" y="19.9" style="white-space:pre">过程</tspan></text></g><g ed:height="25.200000000000003" transform="matrix(1,0,0,1,938.7,401.4)" ed:parentid="152" id="154" ed:width="117"><text class="st6"><tspan x="11" textLength="91" y="19.9" style="white-space:pre">恢复寄存器状态</tspan></text></g><g ed:height="25.200000000000003" transform="matrix(1,0,0,1,938.7,433.1)" ed:parentid="152" id="156" ed:width="103.40000000000001"><text class="st6"><tspan x="11" textLength="78" y="19.9" style="white-space:pre">恢复数据结构</tspan></text></g><g ed:height="25.200000000000003" transform="matrix(1,0,0,1,716.1,480.65)" ed:parentid="104" id="158" ed:width="76.200000000000003"><text class="st6"><tspan x="11" textLength="52" y="19.9" style="white-space:pre">影响因素</tspan></text></g><g ed:height="25.200000000000003" transform="matrix(1,0,0,1,827.4,464.8)" ed:parentid="158" id="160" ed:width="76.200000000000003"><text class="st6"><tspan x="11" textLength="52" y="19.9" style="white-space:pre">线程数量</tspan></text></g><g ed:height="25.200000000000003" transform="matrix(1,0,0,1,938.7,464.8)" ed:parentid="160" id="162" ed:width="185"><text class="st6"><tspan x="11" textLength="156" y="19.9" style="white-space:pre">线程越多，状态管理越复杂</tspan></text></g><g ed:height="25.200000000000003" transform="matrix(1,0,0,1,827.4,496.5)" ed:parentid="158" id="164" ed:width="76.200000000000003"><text class="st6"><tspan x="11" textLength="52" y="19.9" style="white-space:pre">系统资源</tspan></text></g><g ed:height="25.200000000000003" transform="matrix(1,0,0,1,938.7,496.5)" ed:parentid="164" id="166" ed:width="239.39999999999998"><text class="st6"><tspan x="11" textLength="209" y="19.9" style="white-space:pre">内存和CPU资源可用性影响切换效率</tspan></text></g><g ed:height="25.200000000000003" transform="matrix(1,0,0,1,716.1,559.9)" ed:parentid="104" id="168" ed:width="76.200000000000003"><text class="st6"><tspan x="11" textLength="52" y="19.9" style="white-space:pre">优化建议</tspan></text></g><g ed:height="25.200000000000003" transform="matrix(1,0,0,1,827.4,528.2)" ed:parentid="168" id="170" ed:width="130.59999999999999"><text class="st6"><tspan x="11" textLength="104" y="19.9" style="white-space:pre">使用高效数据结构</tspan></text></g><g ed:height="25.200000000000003" transform="matrix(1,0,0,1,993.1,528.2)" ed:parentid="170" id="172" ed:width="171.40000000000001"><text class="st6"><tspan x="11" textLength="143" y="19.9" style="white-space:pre">简化状态保存和加载过程</tspan></text></g><g ed:height="25.200000000000003" transform="matrix(1,0,0,1,827.4,559.9)" ed:parentid="168" id="174" ed:width="103.40000000000001"><text class="st6"><tspan x="11" textLength="78" y="19.9" style="white-space:pre">减少切换次数</tspan></text></g><g ed:height="25.200000000000003" transform="matrix(1,0,0,1,965.9,559.9)" ed:parentid="174" id="176" ed:width="198.59999999999999"><text class="st6"><tspan x="11" textLength="169" y="19.9" style="white-space:pre">合并任务、增加任务执行时间</tspan></text></g><g ed:height="25.200000000000003" transform="matrix(1,0,0,1,827.4,591.6)" ed:parentid="168" id="178" ed:width="117.80000000000001"><text class="st6"><tspan x="11" textLength="91" y="19.9" style="white-space:pre">线程优先级调整</tspan></text></g><g ed:height="25.200000000000003" transform="matrix(1,0,0,1,980.3,591.6)" ed:parentid="178" id="180" ed:width="307.39999999999998"><text class="st6"><tspan x="11" textLength="273" y="19.9" style="white-space:pre">优先处理高优先级线程，减少低优先级线程开销</tspan></text></g><g ed:height="25.200000000000003" transform="matrix(1,0,0,1,468.8,623.3)" ed:parentid="102" id="182" ed:width="130.59999999999999"><text class="st6"><tspan x="11" textLength="104" y="19.9" style="white-space:pre">多线程程序中常见</tspan></text></g><g ed:height="41.600000000000001" transform="matrix(1,0,0,1,284.5,952.7)" ed:parentid="101" id="184" ed:width="112.40000000000001"><text class="st5"><tspan x="20" textLength="76" y="30.5" style="white-space:pre">开销体现</tspan></text></g><g ed:height="25.200000000000003" transform="matrix(1,0,0,1,432,727)" ed:parentid="184" id="186" ed:width="145.80000000000001"><text class="st6"><tspan x="11" textLength="119" y="19.9" style="white-space:pre">1. 上下文保存和恢复</tspan></text></g><g ed:height="43.599999999999994" transform="matrix(1,0,0,1,612.9,681.5)" ed:parentid="186" id="188" ed:width="517"><text class="st6"><tspan x="11" textLength="429" y="19.9" style="white-space:pre">描述：操作系统需要保存当前线程的执行上下文（如寄存器值、程序计数器</tspan><tspan x="11" textLength="458" y="38.3" style="white-space:pre">（PC）、栈指针（SP）、线程局部存储（TLS）等），然后加载新线程的上下文</tspan></text></g><g ed:height="25.200000000000003" transform="matrix(1,0,0,1,612.9,731.6)" ed:parentid="186" id="190" ed:width="225.80000000000001"><text class="st6"><tspan x="11" textLength="196" y="19.9" style="white-space:pre">开销体现：数百到数千个CPU周期</tspan></text></g><g ed:height="25.200000000000003" transform="matrix(1,0,0,1,612.9,763.3)" ed:parentid="186" id="192" ed:width="927.34436626486058"><text class="st6"><tspan x="11" textLength="748" y="19.9" style="white-space:pre">影响：在多核 CPU 上，如果切换频繁，会增加延迟。例如，在一个线程密集型应用中，上下文切换可能占总 CPU 时间的 10-20%</tspan></text></g><g ed:height="25.200000000000003" transform="matrix(1,0,0,1,432,840.5)" ed:parentid="184" id="194" ed:width="118.59999999999999"><text class="st6"><tspan x="11" textLength="94" y="19.9" style="white-space:pre">2. CPU缓存失效</tspan></text></g><g ed:height="25.200000000000003" transform="matrix(1,0,0,1,585.7,795)" ed:parentid="194" id="196" ed:width="1166.1769408971268"><text class="st6"><tspan x="11" textLength="633" y="19.9" style="white-space:pre">描述：线程切换后，新线程的数据可能不在 CPU 缓存(L1/L2 Cache)中，导致“缓存未命中”（Cache Miss）</tspan></text></g><g ed:height="43.599999999999994" transform="matrix(1,0,0,1,585.7,826.7)" ed:parentid="194" id="198" ed:width="649.25899786256559"><text class="st6"><tspan x="11" textLength="579" y="19.9" style="white-space:pre">开销体现：CPU 需要从主内存中重新加载数据，这比从缓存中读取慢得多（可能多出 10-100 倍的延</tspan><tspan x="11" textLength="503" y="38.3" style="white-space:pre">迟）。现代 CPU 的缓存行（Cache Line）大小通常为 64 字节，多次未命中会累积开销</tspan></text></g><g ed:height="43.599999999999994" transform="matrix(1,0,0,1,585.7,876.8)" ed:parentid="194" id="200" ed:width="517"><text class="st6"><tspan x="11" textLength="455" y="19.9" style="white-space:pre">影响：在数据密集型任务中（如数据库查询），这会显著降低吞吐量。线程切换</tspan><tspan x="11" textLength="288" y="38.3" style="white-space:pre">后，缓存“冷启动”可能导致性能下降 20-50%。</tspan></text></g><g ed:height="25.200000000000003" transform="matrix(1,0,0,1,432,981.6)" ed:parentid="184" id="202" ed:width="88.200000000000003"><text class="st6"><tspan x="11" textLength="63" y="19.9" style="white-space:pre">3. TLB失效</tspan></text></g><g ed:height="43.599999999999994" transform="matrix(1,0,0,1,555.3,926.9)" ed:parentid="202" id="204" ed:width="517"><text class="st6"><tspan x="11" textLength="464" y="19.9" style="white-space:pre">描述：TLB 是 CPU 用于快速地址转换的缓存（虚拟地址到物理地址），线程切换</tspan><tspan x="11" textLength="394" y="38.3" style="white-space:pre">时，虽然线程共享进程的地址空间，但 TLB 可能需要部分刷新或失效</tspan></text></g><g ed:height="43.599999999999994" transform="matrix(1,0,0,1,555.3,977)" ed:parentid="202" id="206" ed:width="517"><text class="st6"><tspan x="11" textLength="465" y="19.9" style="white-space:pre">开销体现：TLB未命中时，CPU需要访问页表，这会增加内存访问延迟（几十到几</tspan><tspan x="11" textLength="65" y="38.3" style="white-space:pre">百个周期）</tspan></text></g><g ed:height="25.200000000000003" transform="matrix(1,0,0,1,555.3,1027.1)" ed:parentid="202" id="208" ed:width="212.19999999999999"><text class="st6"><tspan x="11" textLength="182" y="19.9" style="white-space:pre">影响：整体性能受累积效应影响</tspan></text></g><g ed:height="25.200000000000003" transform="matrix(1,0,0,1,432,1090.5)" ed:parentid="184" id="210" ed:width="105"><text class="st6"><tspan x="11" textLength="80" y="19.9" style="white-space:pre">4. 调度器开销</tspan></text></g><g ed:height="25.200000000000003" transform="matrix(1,0,0,1,572.1,1058.8)" ed:parentid="210" id="212" ed:width="280.19999999999999"><text class="st6"><tspan x="11" textLength="247" y="19.9" style="white-space:pre">描述：操作系统调度器决定下一个运行线程</tspan></text></g><g ed:height="25.200000000000003" transform="matrix(1,0,0,1,572.1,1090.5)" ed:parentid="210" id="214" ed:width="225.80000000000001"><text class="st6"><tspan x="11" textLength="195" y="19.9" style="white-space:pre">开销体现：内核代码执行及锁竞争</tspan></text></g><g ed:height="25.200000000000003" transform="matrix(1,0,0,1,572.1,1122.2)" ed:parentid="210" id="216" ed:width="239.39999999999998"><text class="st6"><tspan x="11" textLength="208" y="19.9" style="white-space:pre">影响：高并发时调度器可能成为瓶颈</tspan></text></g><g ed:height="25.200000000000003" transform="matrix(1,0,0,1,432,1194.8)" ed:parentid="184" id="218" ed:width="118.59999999999999"><text class="st6"><tspan x="11" textLength="93" y="19.9" style="white-space:pre">5. 内核模式切换</tspan></text></g><g ed:height="25.200000000000003" transform="matrix(1,0,0,1,585.7,1153.9)" ed:parentid="218" id="220" ed:width="321"><text class="st6"><tspan x="11" textLength="286" y="19.9" style="white-space:pre">描述：涉及系统调用时从用户模式切换到内核模式</tspan></text></g><g ed:height="43.599999999999994" transform="matrix(1,0,0,1,585.7,1185.6)" ed:parentid="218" id="222" ed:width="517"><text class="st6"><tspan x="11" textLength="474" y="19.9" style="white-space:pre">开销体现：模式切换需要保存/恢复更多状态，并可能触发中断处理。每个模式切换</tspan><tspan x="11" textLength="159" y="38.3" style="white-space:pre">可能消耗 1000+ CPU 周期</tspan></text></g><g ed:height="25.200000000000003" transform="matrix(1,0,0,1,585.7,1235.7)" ed:parentid="218" id="224" ed:width="450.60000000000002"><text class="st6"><tspan x="11" textLength="412" y="19.9" style="white-space:pre">影响：在 I/O 密集型应用中常见，如果线程频繁阻塞/唤醒，开销会放大</tspan></text></g><g ed:height="41.600000000000001" transform="matrix(1,0,0,1,284.5,1438.82)" ed:parentid="101" id="226" ed:width="204.40000000000001"><text class="st5"><tspan x="20" textLength="171" y="30.5" style="white-space:pre">总体影响与优化建议</tspan></text></g><g ed:height="25.200000000000003" transform="matrix(1,0,0,1,524,1293.9)" ed:parentid="226" id="228" ed:width="201"><text class="st6"><tspan x="11" textLength="173" y="19.9" style="white-space:pre">量化：典型切换耗时1-10微秒</tspan></text></g><g ed:height="43.599999999999994" transform="matrix(1,0,0,1,524,1325.6)" ed:parentid="226" id="230" ed:width="517"><text class="st6"><tspan x="11" textLength="468" y="19.9" style="white-space:pre">与进程比较：总体上比进程切换小，因为线程共享进程的地址空间，无需切换整个</tspan><tspan x="11" textLength="52" y="38.3" style="white-space:pre">内存映射</tspan></text></g><g ed:height="43.599999999999994" transform="matrix(1,0,0,1,524,1375.7)" ed:parentid="226" id="232" ed:width="517"><text class="st6"><tspan x="11" textLength="467" y="19.9" style="white-space:pre">与Go Routine比较：Go Routine 的切换是用户态的，由 Go 运行时处理，通常只</tspan><tspan x="11" textLength="196" y="38.3" style="white-space:pre">需几百纳秒，开销远低于 OS 线程</tspan></text></g><g ed:height="25.200000000000003" transform="matrix(1,0,0,1,524,1600.15)" ed:parentid="226" id="234" ed:width="429.80000000000001"><text class="st6"><tspan x="11" textLength="390" y="19.9" style="white-space:pre">优化方式：减少切换频率、避免不必要的同步、使用轻量级并发模型</tspan></text></g><g ed:height="25.200000000000003" transform="matrix(1,0,0,1,988.9,1473.35)" ed:parentid="234" id="236" ed:width="103.40000000000001"><text class="st6"><tspan x="11" textLength="78" y="19.9" style="white-space:pre">减少切换频率</tspan></text></g><g ed:height="25.200000000000003" transform="matrix(1,0,0,1,1127.4,1441.65)" ed:parentid="236" id="238" ed:width="76.200000000000003"><text class="st6"><tspan x="11" textLength="52" y="19.9" style="white-space:pre">合并任务</tspan></text></g><g ed:height="25.200000000000003" transform="matrix(1,0,0,1,1238.7,1425.8)" ed:parentid="238" id="240" ed:width="130.59999999999999"><text class="st6"><tspan x="11" textLength="104" y="19.9" style="white-space:pre">任务执行时间延长</tspan></text></g><g ed:height="25.200000000000003" transform="matrix(1,0,0,1,1238.7,1457.5)" ed:parentid="238" id="242" ed:width="103.40000000000001"><text class="st6"><tspan x="11" textLength="78" y="19.9" style="white-space:pre">任务调度优化</tspan></text></g><g ed:height="25.200000000000003" transform="matrix(1,0,0,1,1127.4,1505.05)" ed:parentid="236" id="244" ed:width="103.40000000000001"><text class="st6"><tspan x="11" textLength="78" y="19.9" style="white-space:pre">持续执行线程</tspan></text></g><g ed:height="25.200000000000003" transform="matrix(1,0,0,1,1265.9,1489.2)" ed:parentid="244" id="246" ed:width="89.799999999999997"><text class="st6"><tspan x="11" textLength="65" y="19.9" style="white-space:pre">长时间运行</tspan></text></g><g ed:height="25.200000000000003" transform="matrix(1,0,0,1,1265.9,1520.9)" ed:parentid="244" id="248" ed:width="103.40000000000001"><text class="st6"><tspan x="11" textLength="78" y="19.9" style="white-space:pre">减少频繁切换</tspan></text></g><g ed:height="25.200000000000003" transform="matrix(1,0,0,1,988.9,1600.15)" ed:parentid="234" id="250" ed:width="130.59999999999999"><text class="st6"><tspan x="11" textLength="104" y="19.9" style="white-space:pre">避免不必要的同步</tspan></text></g><g ed:height="25.200000000000003" transform="matrix(1,0,0,1,1154.6,1568.45)" ed:parentid="250" id="252" ed:width="117"><text class="st6"><tspan x="11" textLength="91" y="19.9" style="white-space:pre">使用非阻塞算法</tspan></text></g><g ed:height="25.200000000000003" transform="matrix(1,0,0,1,1306.7,1552.6)" ed:parentid="252" id="254" ed:width="89.799999999999997"><text class="st6"><tspan x="11" textLength="65" y="19.9" style="white-space:pre">减少锁争用</tspan></text></g><g ed:height="25.200000000000003" transform="matrix(1,0,0,1,1306.7,1584.3)" ed:parentid="252" id="256" ed:width="103.40000000000001"><text class="st6"><tspan x="11" textLength="78" y="19.9" style="white-space:pre">提高并发性能</tspan></text></g><g ed:height="25.200000000000003" transform="matrix(1,0,0,1,1154.6,1631.85)" ed:parentid="250" id="258" ed:width="103.40000000000001"><text class="st6"><tspan x="11" textLength="78" y="19.9" style="white-space:pre">精简锁的使用</tspan></text></g><g ed:height="25.200000000000003" transform="matrix(1,0,0,1,1293.1,1616)" ed:parentid="258" id="260" ed:width="103.40000000000001"><text class="st6"><tspan x="11" textLength="78" y="19.9" style="white-space:pre">最小化临界区</tspan></text></g><g ed:height="25.200000000000003" transform="matrix(1,0,0,1,1293.1,1647.7)" ed:parentid="258" id="262" ed:width="103.40000000000001"><text class="st6"><tspan x="11" textLength="78" y="19.9" style="white-space:pre">减少资源竞争</tspan></text></g><g ed:height="25.200000000000003" transform="matrix(1,0,0,1,988.9,1726.95)" ed:parentid="234" id="264" ed:width="144.19999999999999"><text class="st6"><tspan x="11" textLength="117" y="19.9" style="white-space:pre">使用轻量级并发模型</tspan></text></g><g ed:height="25.200000000000003" transform="matrix(1,0,0,1,1168.2,1695.25)" ed:parentid="264" id="266" ed:width="76.200000000000003"><text class="st6"><tspan x="11" textLength="52" y="19.9" style="white-space:pre">引入协程</tspan></text></g><g ed:height="25.200000000000003" transform="matrix(1,0,0,1,1279.5,1679.4)" ed:parentid="266" id="268" ed:width="89.799999999999997"><text class="st6"><tspan x="11" textLength="65" y="19.9" style="white-space:pre">线程开销小</tspan></text></g><g ed:height="25.200000000000003" transform="matrix(1,0,0,1,1279.5,1711.1)" ed:parentid="266" id="270" ed:width="103.40000000000001"><text class="st6"><tspan x="11" textLength="78" y="19.9" style="white-space:pre">上下文切换快</tspan></text></g><g ed:height="25.200000000000003" transform="matrix(1,0,0,1,1168.2,1758.65)" ed:parentid="264" id="272" ed:width="103.40000000000001"><text class="st6"><tspan x="11" textLength="78" y="19.9" style="white-space:pre">采用事件驱动</tspan></text></g><g ed:height="25.200000000000003" transform="matrix(1,0,0,1,1306.7,1742.8)" ed:parentid="272" id="274" ed:width="103.40000000000001"><text class="st6"><tspan x="11" textLength="78" y="19.9" style="white-space:pre">资源利用率高</tspan></text></g><g ed:height="25.200000000000003" transform="matrix(1,0,0,1,1306.7,1774.5)" ed:parentid="272" id="276" ed:width="89.799999999999997"><text class="st6"><tspan x="11" textLength="65" y="19.9" style="white-space:pre">响应时间快</tspan></text></g></svg>